(function(c){var d={topMargin:20,bottomMargin:20,parent:false},b="stickySidebar";function a(f,e){this.$element=c(f);this.options=c.extend({},d,e);var g=this;c(window).load(function(){g.init()})}a.prototype={stick:function(i,e,j){var h=i.scrollTop(),g=0,f=0;if((h>e)&&(h<j)){g=h-e;this.$element.css({top:g})}else{if((h>e)&&(h>=j)){f=this.$element.css("top");this.$element.css("top",f)}else{this.$element.css("top",0)}}},findParentEdge:function(){var g=this.$element,i=c(this.options.parent),h=parseInt(i.css("padding-top"))+parseInt(i.css("padding-bottom")),f=parseInt(g.css("padding-top"))+parseInt(g.css("padding-bottom")),e=(i.height()+h+i.offset().top);return e-(g.height()+f+this.options.bottomMargin)},init:function(){var g=c(window),e=this.$element.offset().top-this.options.topMargin,h=(this.options.parent)?this.findParentEdge():c(document).height(),f=this;this.$element.css("position","relative");g.scroll(function(){f.stick(g,e,h)})}};c.fn[b]=function(e){return this.each(function(){if(!c.data(this,b)){c.data(this,b,new a(this,e))}})}}(jQuery));